{% extends 'layouts/complete.html' %} {% from 'includes/formhelpers.html' import render_field %} {% block body %}

<main id="body" class="container my-5" onresize="setHeight()">

    <h2>Sube el Archivo</h2>
    <p>Selecciona el archivo que quieres que sea analizado, para que se genere el reporte; así prodremos entregarte el estimado de la calidad del agua de la zona que estás monitoreando.</p>

    {% include 'includes/progress.html' %} {% include 'includes/messages.html' %}

    <div class="row row-cols-1 row-cols-md-2 g-4">

        <div class="col">
            <div class="card h-100">

                <div class="py-3 text-center">
                    <img src="../static/img/file-upload.svg" class="" alt="" style="width: 120px; height: 100px;">
                </div>

                <div class="card-body">
                    <h5 class="card-title">Desde Mi Dispositivo</h5>
                    <p class="card-text">Sube aquí el archivo que se encuentra en tu dispositivo, recuerda que los formatos soportados son: <span>.xlsx, .xls, .csv & .ods</span></p>
                    <form method="POST" enctype="multipart/form-data">

                        {{ form.csrf_token }}
                        <!-- <input type="file" name="userFile" id="userFile" class="form-control mb-3" accept="application/xlsx, .xlsx, .xls, .csv, .ods" required> -->

                        {{ render_field(form.userFile, type="file", class="form-control mb-3", accept="application/xlsx, .xlsx, .xls, .csv, .ods")}}

                        <div class="text-center">
                            <button class="btn btn-primary btn-lg" type="submit">Subir</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>

        <div class="col">
            <div class="card h-100">

                <div class="py-3 text-center">
                    <img src="../static/img/file-cloud-upload.svg" class="" alt="" style="width: 120px; height: 100px;">
                </div>

                <div class="card-body">
                    <h5 class="card-title">Desde Thingspeak</h5>
                    <p class="card-text">Selecciona esta opción para descargar el archivo directamente desde el servidor de ThingSpeak.</p>

                    <form method="POST">
                        <div class="mb-3">
                            <label for="channelID"> </label>
                            <div class="input-group">
                                <span for="channelID" class="input-group-text">Channel ID</span>
                                <input type="number" class="form-control" name="channelID" id="channelID" placeholder="000000" min=0 required>
                                <span class="input-group-text">
                                    <img src="../static/img/help-btn.svg" alt="" tabindex="0" role="button"  data-bs-custom-class="border border-primary border-1" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-html="true" title="Channel ID" data-bs-content="Es un número de identificación único que permite identificar el canal de Thingspeak en el que se guardan las mediciones. <br> <b><a href='#' class='link-primary'>Ver más</a></b>" style="width: 25px; height: 25px;">
                                </span>
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg">Cargar</button>
                        </div>
                    </form>

                </div>

            </div>
        </div>

    </div>

</main>
{% endblock %}